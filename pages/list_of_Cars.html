<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../assets/css/list_car.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <title>Document</title>
  </head>
  <body>
    <nav id="js_header">
      <!-- header part -->
      <div class="logo">
        <img src="../assets/images/Turbo trip.png" alt="logo" />
      </div>
      <ul class="snip1143">
        <li class="current">
          <a href="../pages/drive_with_us.html" data-hover="Home">Home</a>
        </li>
        <li>
          <a href="../pages/About us.html" data-hover="About Us">About Us</a>
        </li>
        <li>
          <a href="../pages/collapse.html" data-hover="Notification"
            >Notification</a
          >
        </li>
        <li>
          <a href="../pages/contact us.html" data-hover="Contact">Contact</a>
        </li>
      </ul>

      <div class="user_profile">
        <a href="../pages/dri_profile.html">
          <img
            src="../assets/images/gpro.png"
            alt="use_pro"
            class="user_profile1"
        /></a>
      </div>
    </nav>
    <link rel="stylesheet" href="../pages/list_of_Cars.html" />
    <div id="c_details">
      <!-- <div class="card">
        <div class="image"></div>
        <div class="content">
          <a href="#">
            <span class="title">
              Lorem ipsum dolor sit amet consectetur adipisicing elit.
            </span>
          </a>

          <p class="desc">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae
            dolores, possimus pariatur animi temporibus nesciunt praesentium
          </p>
        </div>
        <div class="button">
          <button class="but">edit</button>
        </div>
      </div> -->
    </div>
  </body>
  <script>
    let car_name = JSON.parse(localStorage.getItem("Cars_list"));
    console.log(car_name);

    if (car_name === null) {
      let body = document.querySelector("body");
      body.innerText = "This Page Is Empty";
    } else {
      for (let i = 0; i < car_name.length; i++) {
        let div_card = document.createElement("div");
        div_card.setAttribute("class", "card");
        console.log(div_card);

        let img = document.createElement("div");
        img.setAttribute("class", "image");
        div_card.append(img);
        //   console.log(img);

        let link = document.createElement("a");
        link.setAttribute("class", "a_link");
        img.append(link);
        //   console.log(link);

        let imge = document.createElement("img");
        imge.setAttribute("class", "img");
        imge.setAttribute("src", car_name[i]["Image"]);
        link.append(imge);
        //   console.log(imge);

        let div_1 = document.createElement("div");
        div_1.setAttribute("class", "heading");
        div_card.append(div_1);
        //   console.log(div_1);

        let para = document.createElement("h1");
        para.setAttribute("class", "content_para");
        para.innerText = "Model : " + car_name[i]["Vehicle_model"];
        div_1.append(para);
        //   console.log(para);
        let car_no = document.createElement("h2");
        car_no.setAttribute("class", "car_num");

        car_no.innerText = "car no :" + car_name[i]["Vehicle_no"];
        let description = document.createElement("div");
        description.setAttribute("class", "desc");

        para.append(description);
        //   console.log(para);

        let desc_car = document.createElement("p");
        desc_car.setAttribute("class", "desc_1");
        desc_car.innerText = "Description : " + car_name[i]["Description"];
        description.append(desc_car);
        //   console.log(desc_car);

        let btn_sub = document.createElement("button");
        btn_sub.setAttribute("class", "button");
        btn_sub.innerText = "edit";
        btn_sub.setAttribute("id", car_name[i]["car_id"]);
        btn_sub.setAttribute("onclick", "editcar(this.id)");

        description.append(btn_sub);
        //   console.log(btn_sub);

        let container = document.getElementById("c_details");
        container.append(div_card);
      }
      let arr = [];

      function editcar(id) {
        arr.push(id);
        console.log(id);
        localStorage.setItem("edt_car", JSON.stringify(arr));
        window.location.href = "./list+of_cars_edit.html?detail=" + id;
      }
    } // let edit = document.querySelectorAll("button.button");
    // edit.forEach(function (find) {
    //   find.addEventListener("click", function () {
    //     let new_car = this.closest(".card");
    //     console.log(new_car);
    //     const Id = new_car.querySelector(".button").getAttribute("car_id");
    //     // console.log(Id);
    //     localStorage.setItem("edt_car", JSON.stringify(Id));
    //     window.location.href = "./pages\list+of_cars_edit.html";
    //   });
  </script>
</html>
